
var RS_JS_Make_Notice = "<p>- Chọn hãng xe<br>- Nếu không có hãng xe phù hợp với chiếc xe của bạn, bạn hãy chọn <b>hãng khác</b> và nhập thông tin hãng và đời xe của bạn vào phần mô tả xe</p>";
var RS_JS_Make_Requirement = "Phải chọn hãng xe";

var RS_JS_Model_Notice = "<p>- Chọn đời xe</p>";
var RS_JS_Model_Requirement = "Phải chọn đời xe";

var RS_JS_SubModel_Notice = "<p>- Hãy nhập phân hạng đời xe nếu có.<br>VD: Bạn nhập G cho dòng xe Toyota Innova G</p>";
var RS_JS_SubModel_Requirement = "Phải nhập phân hạng đời xe";

var RS_JS_From_Notice = "<p>- Chọn xuất xứ xe</p>";
var RS_JS_From_Requirement = "Phải chọn xuất xứ xe";
var RS_JS_CarYear_Notice="<p>Hãy chọn năm sản xuất</p>";
var RS_JS_CarYear_Requirement="Phải chọn năm sx";
var RS_JS_CarStatus_Notice = "<p>- Chọn tình trạng xe</p>";
var RS_JS_CarStatus_Requirement = "Phải chọn tình trạng xe";

var RS_JS_BodyStyle_Notice = "<p>- Chọn dòng xe. <br><br><img src='img/body_style.gif'></p>";
var RS_JS_BodyStyle_Requirement = "Phải chọn dòng xe";
var RS_JS_Description_Requirement="Phải nhập mô tả<br> từ 60-600 ký tự";
var JS_NoInputPhone="Không được nhập số điện thoại trong mô tả";
var RS_JS_Price_Notice = "<p>- Nhập giá tiền.<br>- Bạn có thể nhập giá theo VND hoặc USD.<br> -Chỉ nhập số,không cần nhập dấu cách cho hàng nghìn</p>";
var RS_JS_Price_Requirement = "Phải nhập giá tiền.<br>&nbsp;";

var RS_JS_Mileage_Notice = "<p>- Nhập số Km đã đi được</p>";
var RS_JS_Mileage_Requirement = "Phải nhập số Km đã đi được";

var RS_JS_ExteriorColor_Notice = "<p>- Chọn màu sơn của xe</p>";

var RS_JS_InteriorColor_Notice = "<p>- Chọn màu nội thất của xe</p>";

var RS_JS_NumDoors_Notice = "<p>- Nhập số cửa xe.<br>- VD: Nhập số 4 cho xe 4 cửa</p>";
var RS_JS_Number_Only = "Phải nhập số<br>&nbsp;";

var RS_JS_NumSeats_Notice = "<p>- Nhập số chỗ ngồi</p>";

var RS_JS_Transmission_Notice = "<p>- Chọn loại họp số của xe</p>";

var RS_JS_Drivetrain_Notice = "<p>- Chọn loại dẫn động của xe</p>";

var RS_JS_FuelType_Notice = "<p>- Chọn loại nhiên liệu của xe</p>";

var RS_JS_Descriptions_Notice = "<p>- Hãy nhập thông tin mô tả tóm tắt xe của bạn<br><b>Lưu ý:</b><br>- Nhập tiếng việt có dấu<br>- Không nhập thông tin liên hệ (số điện thoại,email) tại đây.<br>- Không đăng quảng cáo tại đây</p>";

var RS_JS_FuelSystem_Notice = "<p>- Hãy nhập thông tin hệ thống nhiên liệu xe của bạn.<br>- VD: Phun xăng điện tử</p>";

var RS_JS_FuelConsumer_Notice = "<p>- Hãy nhập thông tin tiêu thụ nhiên liệu (lít) cho 100Km xe của bạn.<br>- VD: Bạn nhập 10 khi xe bạn tiêu thụ 10L/100Km.</p>";

var RS_JS_LengthWidthHeigh_Notice="<p>- Thông tin chiều dài,rộng,cao xe của bạn.<br>- VD: 2500x1800x1200.<br>- Chú ý: Nếu nhập thì phải đúng định đạng như trên</p>";

var RS_JS_BasicLength_Notice="<p>- Thông tin chiều dài cơ sở của xe.<br>- VD: 2000 (tương ứng với chiều dài cơ sở 2 mét)</p>";

var RS_JS_BasicWidth_Notice="<p>- Thông tin chiều rộng cơ sở trước/sau của xe.<br>- VD: 1400/1500 (tương ứng với chiều rộng cơ sở trước/sau là 1,4 mét / 1,5 mét)</p>";

var RS_JS_Weight_Notice="<p>- Thông tin trọng lượng không tải.<br>- VD: bạn nhập 2200 cho xe có trọng lượng ko tải 2,2 tấn</p>";

var RS_JS_FuelCapacity_Notice="<p>- Dung tích bình nhiên liệu.<br>- VD: bạn nhập 80 cho dung tích 80 lít</p>";

var RS_JS_Engine_Notice="<p>- Thông tin động cơ.<br>- VD: 3.5L 268 hp V6</p>";

var RS_JS_EngineType_Notice="<p>- Kiểu động cơ.<br>- VD:  	2.0, 4 xilanh</p>";

var RS_JS_CylinderVol_Notice="<p>- Dung tích xy lanh.<br>- VD: 2500 cho dung tích 2500cc</p>";

var RS_JS_BrakeDes_Notice="<p>- Mô tả phanh.<br>- VD: Đĩa có ABS</p>";

var RS_JS_Absorber_Notice="<p>- Mô tả giảm sóc.<br>- VD: Độc lập</p>";

var RS_JS_Tyre_Notice="<p>- Mô tả lốp xe.<br>- VD: 245/50R20</p>";

var RS_JS_Rim_Notice="<p>- Mô tả vành mâm xe.<br>- VD: Đúc Hợp Kim</p>";

var RS_JS_OtherTechPara_Notice="<p>- Nếu xe bạn có thêm các thông số kỹ thuật khác, bạn hãy nhập vào đây</p>";

var RS_JS_Description_MaxLength ="Nhập mô tả từ 60-600 ký tự";

var RS_JS_INVALID_HTML_Error="Không được nhập thẻ HTML";

var RS_JS_ChairStuff_Notice = "<p>- Hãy nhập chất liệu,tiện nghi của ghế.<br>- Vd: Da, chỉnh điện</p>";

var RS_JS_AudioVideo_Notice = "<p>- Hãy nhập thiết bị giải trí âm thanh/ video.<br>- Vd: VCD, MP3, Radio.. </p>";

var RS_JS_OtherEquipment_Notice="<p>- Hãy nhập thiết bị khác nếu có.</p>";

var RS_JS_NUMBER_ONLY	= "Chỉ được nhập số";

var RS_JS_INVALID_FORMAT	= "Không đúng định dạng chuẩn";

var RS_JS_TooSmallPrice="Số tiền không hợp lý :quá ít";

var RS_JS_TooBigPrice="Số tiền không hợp lý :quá nhiều";
//]]>

function check_in_array(arr,val)
{
	for ( var i=0, len=arr.length; i<len; ++i )
	{
		if(arr[i]==val) return true;
    }
	return false;
}
num_pic=0;
function del_img(obj)
{
	if(confirm("Xóa ảnh này ?"))
	{
		$(obj).parent().remove();
        d=$("#AlbumAnh").val();
        $("#AlbumAnh").val(d.replace("|"+$(obj).attr('id')+"",""));
        num_pic--;
		queueSizeLimit++;
		$('#file_upload').uploadifySettings('queueSizeLimit',queueSizeLimit);
		if($("#sortable_img").html().trim()=='')
		{
			$("#noimage").show();
		}
        
        
	}
	return false;
	
}
function remove_photo(id){
    
}
file_index=1;
err_upload=0;
function check_allow_upload()
{
	if((file_index-err_upload)>10)
	{
		$("#fileToUpload"+file_index).hide();
		$("#buttonUpload").hide();
		
		
	}else
	{
		$("#fileToUpload"+file_index).show();
		$("#buttonUpload").show();
	}
	
}
function ajaxFileUpload()
    {
		var cur_index=file_index;
		
		
		file_name=$("#fileToUpload"+cur_index).val();
		if(num_pic>=10)
		{
			alert("Chỉ được đăng nhiều nhất 10 ảnh");
			$("#fileToUpload"+cur_index).val("");
			return false;
		}
		
		
        
		
		
		if(file_name=='')
		{
			alert("Phải chọn ảnh upload. Ảnh jpg hoặc gif !");
			return false;
		}
		dot_pos = file_name.lastIndexOf(".");
		if (dot_pos === -1) {
			alert("Chỉ cho phép upload file ảnh (jpg/gif)");
			return false;
		}
		file_ext=file_name.substr(dot_pos).toLowerCase() ;
		if(file_ext!=".jpg" && file_ext!=".gif" && file_ext!=".jpeg")
		{
			alert("Chỉ cho phép upload file ảnh (jpg/gif)");
			return false;
		}		
		file_index++;
		$("#fileToUpload"+cur_index).css("position","absolute");
		$("#fileToUpload"+cur_index).css("left","-99999px");
		$("#uploading"+cur_index).show();
		
		
		
		$("#uploadfiles").append("<div id='dfile"+file_index+"'><input id='fileToUpload"+file_index+"' type='file' size='85' name='fileToUpload"+file_index+"' class='input'/> <span id='uploading"+file_index+"' style='display:none' class='uploading'>Đang tải ảnh "+file_index+": <img  src='img/uploading.gif' border=0 ></span></div>");
		
		
		
		//starting setting some animation when the ajax starts and completes
		/*
        $("#loading")
        .ajaxStart(function(){
             $("#loading").show();
        })
        .ajaxComplete(function(){
             $("#loading").hide();
        });
       */
        /*
            prepareing ajax file upload
            url: the url of script file handling the uploaded files
                        fileElementId: the file type of input element id and it will be the index of  $_FILES Array()
            dataType: it support json, xml
            secureuri:use secure protocol
            success: call back function when the ajax complete
            error: callback function when the ajax failed
           
                */
        $.ajaxFileUpload
        (
            {
               url:'doajaxfileupload/'+add_link+'?i='+cur_index,
                secureuri:false,
                fileElementId:'fileToUpload'+cur_index,
                dataType: 'json',
                success: function (data, status)
                {
                    if(typeof(data.error) != 'undefined')
                    {
                        if(data.error != '')
                        {
							$("#dfile"+cur_index).html("<span style='color:red'>-Tải ảnh "+cur_index+" không thành công [x]</span>");
							err_upload++;
							alert("Loi1:"+data.error);
							check_allow_upload();
							
                        }else
                        {
                            //alert(data.ufile);
							//<span id=d1 class="sortableitem"><img src="sort_floats_files/lilies_02.jpg"  /> <a href="">x</a></span>
							$("#sortable_img").append('<span id="'+data.ufile+'" class="sortableitem"><img src="'+data.upath+'s_'+data.ufile+'"  /> <a href="#" title="Xóa ảnh" onclick="return del_img(this)">x</a></span>');
							
							$("#dfile"+cur_index).html("<span style='color:blue'>-Tải ảnh "+cur_index+" thành công !</span>");
							num_pic++;
							$("#noimage").hide();
							$('#sortable_img').Sortable(
							{
								accept : 		'sortableitem',
								helperclass : 	'sorthelper',
								activeclass : 	'sortableactive',
								hoverclass : 	'sortablehover',
								opacity: 		0.8,
								/*fx:				200,*/
								revert:			true,
								floats:			true,
								
								tolerance:		'pointer'
							}
						)
							
                        }
                    }
                },
                error: function (data, status, e)
                {
                    alert("Loi2:"+e);
					err_upload++;
					check_allow_upload();
					
                }
            }
        )
		
		check_allow_upload();
       
        return false;

    }  
	
function change_car_status()
{
	
	if($("#car_status").val()=='2')
	{		
		$("#mileage_parent").show("normal");
	}else if($("#car_status").val()=='1')
	{
		$("#mileage_parent").hide("normal");
	}
	
}

/* Optional: Temporarily hide the "tabber" class so it does not "flash"
   on the page as plain HTML. After tabber runs, the class is changed
   to "tabberlive" and it will appear.
*/
document.write('<style type="text/css">.tabber{display:none;}<\/style>');
var tabber_bb=null;
var tabberOptions = {

  /* Optional: instead of letting tabber run during the onload event,
     we'll start it up manually. This can be useful because the onload
     even runs after all the images have finished loading, and we can
     run tabber at the bottom of our page to start it up faster. See the
     bottom of this page for more info. Note: this variable must be set
     BEFORE you include tabber.js.
  */
  'manualStartup':true,

  /* Optional: code to run after each tabber object has initialized */

  'onLoad': function(argsObj) {
    /* Display an alert only after tab2 */
    if (argsObj.tabber.id == 'tab_car') {
    //  alert('Finished loading tab_car!');
    }
	 tabber_bb = argsObj.tabber;
	//tabber_bb.tabShow(3);
  },

  /* Optional: code to run when the user clicks a tab. If this
     function returns boolean false then the tab will not be changed
     (the click is canceled). If you do not return a value or return
     something that is not boolean false, */

  'onClick': function(argsObj) {

    var t = argsObj.tabber; /* Tabber object */
    var id = t.id; /* ID of the main tabber DIV */
    var i = argsObj.index; /* Which tab was clicked (0 is the first tab) */
    var e = argsObj.event; /* Event object */	
	$("#linlin").hide();		// hieutv: fix loi chuyen tab van hien mess
	
  },

  /* Optional: set an ID for each tab navigation link */
  'addLinkId': true

};



function ChangPic(img)
{
    img.src= img.src+"?a";
}

function SubOne_Submit()
{
    var itemObj = null;
    var isOK = true;
	serialize();
	first_item_err=null;
	tab_err=0;
    if(Tooltip&&Tooltip.ToolList)
    {
        for(var item in Tooltip.ToolList)
        {
            itemObj = Tooltip.ToolList[item]
            itemObj.Valid("OnSub");
            if(itemObj.State == ErrorState.Error)
            {
				if(itemObj.EL.name=="length_width_heigh" && isOK) tab_err=3;
				if(first_item_err==null) first_item_err=itemObj;
                isOK = false;
            }
             
        }
    }
	
	if(isOK && $("#sort_images").val()=='')
	{
		return confirm("Tin đăng của bạn chưa có ảnh !\nChọn 'OK' để đăng tin không có ảnh, hoặc 'Cancel' để cập nhật ảnh ô tô của bạn.");
	}
	if(isOK)
	{
		$("#divProgress").show();	
		
	}else
	{
		if(tabber_bb!=null)
		{
			tabber_bb.tabShow(tab_err);
		}
		document.getElementById(first_item_err.EL.name).focus();
	}
    
    return isOK;
}

